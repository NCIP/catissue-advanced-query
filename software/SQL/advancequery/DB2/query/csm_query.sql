DROP TABLE CSM_APPLICATION;


CREATE TABLE CSM_APPLICATION (
  APPLICATION_ID DECIMAL(31) NOT NULL,
  APPLICATION_NAME varchar(255) NOT NULL default '',
  APPLICATION_DESCRIPTION varchar(200) NOT NULL default '',
  DECLARATIVE_FLAG DECIMAL(1,0) default NULL,
  ACTIVE_FLAG DECIMAL(1,0) NOT NULL default 0,
  UPDATE_DATE date NOT NULL default current date,
  DATABASE_URL varchar(100) default NULL,
  DATABASE_USER_NAME varchar(100) default NULL,
  DATABASE_PASSWORD varchar(100) default NULL,
  DATABASE_DIALECT varchar(100) default NULL,
  DATABASE_DRIVER varchar(100) default NULL,
  PRIMARY KEY  (APPLICATION_ID),
  CONSTRAINT UQ_APPLICATION_NAME UNIQUE  (APPLICATION_NAME) 
);


/* Dumping data for table csm_application*/

INSERT INTO CSM_APPLICATION (APPLICATION_ID,APPLICATION_NAME,APPLICATION_DESCRIPTION,DECLARATIVE_FLAG,ACTIVE_FLAG,UPDATE_DATE,DATABASE_URL,DATABASE_USER_NAME,DATABASE_PASSWORD,DATABASE_DIALECT,DATABASE_DRIVER) values (1,'catissuecore','caTISSUE Core',0,0,'2005-08-22',NULL,NULL,NULL,NULL,NULL);

/* Table Objects for table csm_group*/


DROP TABLE CSM_GROUP;


CREATE TABLE CSM_GROUP (
  GROUP_ID DECIMAL(31) NOT NULL,
  GROUP_NAME varchar(255) NOT NULL default '',
  GROUP_DESC varchar(200) default NULL,
  UPDATE_DATE date NOT NULL default '2005-01-01',
  APPLICATION_ID DECIMAL(31) NOT NULL default 0,
  PRIMARY KEY  (GROUP_ID),
  CONSTRAINT UQ_GROUP_GROUP_NAME UNIQUE (APPLICATION_ID,GROUP_NAME)
);
CREATE INDEX IDX_APPLICATION_ID ON CSM_GROUP(APPLICATION_ID);

/* Dumping data for table csm_group*/
/* Default date CURRENT DATE is replaced by CURRENT DATE */

INSERT INTO CSM_GROUP (GROUP_ID,GROUP_NAME,GROUP_DESC,UPDATE_DATE,APPLICATION_ID) VALUES (1,'ADMINISTRATOR_GROUP','Group of Administrators',CURRENT DATE,1);
INSERT INTO CSM_GROUP (GROUP_ID,GROUP_NAME,GROUP_DESC,UPDATE_DATE,APPLICATION_ID) VALUES (2,'SUPERVISOR_GROUP','Group of Supervisors',CURRENT DATE,1);
INSERT INTO CSM_GROUP (GROUP_ID,GROUP_NAME,GROUP_DESC,UPDATE_DATE,APPLICATION_ID) VALUES (3,'TECHNICIAN_GROUP','Group of Technicians',CURRENT DATE,1);
INSERT INTO CSM_GROUP (GROUP_ID,GROUP_NAME,GROUP_DESC,UPDATE_DATE,APPLICATION_ID) VALUES (4,'PUBLIC_GROUP','Group of Public Users',CURRENT DATE,1);

/* Table Objects for table csm_pg_pe*/


DROP TABLE  CSM_PG_PE;

CREATE TABLE CSM_PG_PE (
  PG_PE_ID DECIMAL(31) NOT NULL ,
  PROTECTION_GROUP_ID DECIMAL(31) NOT NULL default 0,
  PROTECTION_ELEMENT_ID DECIMAL(31) NOT NULL default 0,
  UPDATE_DATE date default NULL,
  PRIMARY KEY  (PG_PE_ID),
  CONSTRAINT  UQ_PROTECTION_GROUP_PROTECTION_ELEMENT_PROTECTION_GROUP_ID UNIQUE (PROTECTION_ELEMENT_ID,PROTECTION_GROUP_ID)
) ;
CREATE INDEX IDX_PROTECTION_ELEMENT_ID ON CSM_PG_PE(PROTECTION_ELEMENT_ID);
CREATE INDEX IDX_PROTECTION_GROUP_ID ON CSM_PG_PE(PROTECTION_GROUP_ID);

/* Dumping data for table csm_pg_pe*/


/* Table Objects for table csm_privilege*/



DROP TABLE  CSM_PRIVILEGE;

CREATE TABLE CSM_PRIVILEGE (
  PRIVILEGE_ID DECIMAL(31) NOT NULL ,
  PRIVILEGE_NAME varchar(100) NOT NULL default '',
  PRIVILEGE_DESCRIPTION varchar(200) default NULL,
  UPDATE_DATE date NOT NULL default CURRENT DATE,
  PRIMARY KEY  (PRIVILEGE_ID),
  CONSTRAINT UQ_PRIVILEGE_NAME UNIQUE (PRIVILEGE_NAME)
) ;


/* Dumping data for table csm_privilege*/



INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (1,'CREATE','This privilege grants permission to a user to create an entity. This entity can be an object, a database entry, or a resource such as a network connection',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (2,'ACCESS','This privilege allows a user to access a particular resource.  Examples of resources include a network or database connection, socket, module of the application, or even the application itself',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (3,'READ','This privilege permits the user to read data from a file, URL, database, an object, etc. This can be used at an entity level signifying that the user is allowed to read data about a particular entry',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (4,'WRITE','This privilege allows a user to write data to a file, URL, database, an object, etc. This can be used at an entity level signifying that the user is allowed to write data about a particular entity',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (5,'UPDATE','This privilege grants permission at an entity level and signifies that the user is allowed to update data for a particular entity. Entities may include an object, object attribute, database row etc',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (6,'DELETE','This privilege permits a user to delete a logical entity. This entity can be an object, a database entry, a resource such as a network connection, etc',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (7,'EXECUTE','This privilege allows a user to execute a particular resource. The resource can be a method, function, behavior of the application, URL, button etc',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (8,'USE','This privilege allows a user to use a particular resource',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (9,'ASSIGN_READ','This privilege allows a user to assign a read privilege to others',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (10,'ASSIGN_USE','This privilege allows a user to assign a use privilege to others',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (11,'IDENTIFIED_DATA_ACCESS','This privilege allows a user to view identified data of an object',CURRENT DATE);

/*Gautam : Added a READ_DENIED privilege.*/

INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (12,'READ_DENIED','This privilege doesnt permit the user to read data',CURRENT DATE);
INSERT INTO CSM_PRIVILEGE (PRIVILEGE_ID,PRIVILEGE_NAME,PRIVILEGE_DESCRIPTION,UPDATE_DATE) VALUES (13,'EXECUTE_MANAGED_QUERY', 'THIS PRIVILEGE GRANTS PERMISSION TO A USER TO EXECUTE QUERY',CURRENT DATE);

/* Table Objects for table csm_protection_element*/



DROP TABLE  CSM_PROTECTION_ELEMENT;

CREATE TABLE CSM_PROTECTION_ELEMENT (
  PROTECTION_ELEMENT_ID DECIMAL(31) NOT NULL ,
  PROTECTION_ELEMENT_NAME varchar(100) NOT NULL default '',
  PROTECTION_ELEMENT_DESCRIPTION varchar(200) default NULL,
  OBJECT_ID varchar(100) NOT NULL default '',
  ATTRIBUTE varchar(100) not null default '',
  PROTECTION_ELEMENT_TYPE varchar(100) default NULL,
  APPLICATION_ID DECIMAL(31) NOT NULL default 0,
  UPDATE_DATE date NOT NULL default '2005-01-01',
  PRIMARY KEY  (PROTECTION_ELEMENT_ID),
  CONSTRAINT UQ_PE_PE_NAME_ATTRIBUTE_APP_ID UNIQUE (OBJECT_ID,ATTRIBUTE,APPLICATION_ID),
  CONSTRAINT UQ_PE_OBJECT_ID_ATTRIBUTE_APP_ID UNIQUE (PROTECTION_ELEMENT_NAME,ATTRIBUTE,APPLICATION_ID)
) ;
CREATE INDEX IDX_APPLICATION_ID ON CSM_PROTECTION_ELEMENT(APPLICATION_ID);


/* Dumping data for table csm_protection_element*/


/* Table Objects for table csm_protection_group*/


DROP TABLE  CSM_PROTECTION_GROUP;

CREATE TABLE CSM_PROTECTION_GROUP (
  PROTECTION_GROUP_ID DECIMAL(31) NOT NULL ,
  PROTECTION_GROUP_NAME varchar(100) NOT NULL default '',
  PROTECTION_GROUP_DESCRIPTION varchar(200) default NULL,
  APPLICATION_ID DECIMAL(31) NOT NULL default 0,
  LARGE_ELEMENT_COUNT_FLAG DECIMAL(1,0) NOT NULL default 0,
  UPDATE_DATE date NOT NULL default CURRENT DATE,
  PARENT_PROTECTION_GROUP_ID DECIMAL(31) default NULL,
  PRIMARY KEY  (PROTECTION_GROUP_ID),
  CONSTRAINT UQ_PROTECTION_GROUP_PROTECTION_GROUP_NAME UNIQUE (APPLICATION_ID,PROTECTION_GROUP_NAME)
) ;
CREATE INDEX IDX_APPLICATION_ID ON CSM_PROTECTION_GROUP(APPLICATION_ID);
CREATE INDEX IDX_PARENT_PROTECTION_GROUP_ID ON CSM_PROTECTION_GROUP(PARENT_PROTECTION_GROUP_ID);

/* Dumping data for table csm_protection_group*/



INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) 
		VALUES (1,'ADMINISTRATOR_PROTECTION_GROUP','Protection elements for class names of objects that belong to Administrative data',1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (2,'SUPERVISOR_PROTECTION_GROUP','Protection elements for class names of objects that belong to Supervisors data',1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (3,'TECHNICIAN_PROTECTION_GROUP','Protection elements for class names of objects that belong to Technician data',1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (4,'ADMIN_DATA_USE_GROUP',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (5,'DISTRIBUTION_PROTOCOL_GROUP',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (6,'COLLECTION_PROTOCOL_GROUP',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (7,'COLLECTION_PROTOCOL_PROTECTED_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (8,'COLLECTION_PROTOCOL_PUBLIC_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (9,'DISTRIBUTION_PROTOCOL_PROTECTED_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (10,'DISTRIBUTION_PROTOCOL_PUBLIC_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (11,'ADMINISTRATIVE_DATA_PROTECTED_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (12,'ADMINISTRATIVE_DATA_PUBLIC_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (13,'PARTICIPANT_DATA_PROTECTED_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (14,'PARTICIPANT_DATA_PUBLIC_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (15,'BIOSPECIMEN_DATA_PROTECTED_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (16,'BIOSPECIMEN_DATA_PUBLIC_ATTRIBUTES',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (17,'SECURED_ADMINISTRATIVE_ACTIONS',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (18,'SECURED_SUPERVISORY_ACTIONS',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (19,'SECURED_TECHNICIAN_ACTIONS',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (20,'PUBLIC_DATA_GROUP',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (21,'ADMINISTRATORS_DATA_GROUP',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (22,'SUPERVISORS_DATA_GROUP',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (23,'TECHNICIANS_DATA_GROUP',NULL,1,0,CURRENT DATE,NULL);
INSERT INTO CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID,PROTECTION_GROUP_NAME,PROTECTION_GROUP_DESCRIPTION,APPLICATION_ID,LARGE_ELEMENT_COUNT_FLAG,UPDATE_DATE,PARENT_PROTECTION_GROUP_ID) VALUES (24,'SECURED_PUBLIC_ACTIONS',NULL,1,0,CURRENT DATE,NULL);



/* Table Objects for table csm_role*/



DROP TABLE  CSM_ROLE;

CREATE TABLE CSM_ROLE (
  ROLE_ID DECIMAL(31) NOT NULL ,
  ROLE_NAME varchar(100) NOT NULL default '',
  ROLE_DESCRIPTION varchar(200) default NULL,
  APPLICATION_ID DECIMAL(31) NOT NULL default 0,
  ACTIVE_FLAG DECIMAL(1,0) NOT NULL default 0,
  UPDATE_DATE date NOT NULL default CURRENT DATE,
  PRIMARY KEY  (ROLE_ID),
  CONSTRAINT UQ_ROLE_ROLE_NAME UNIQUE (APPLICATION_ID,ROLE_NAME)
) ;
CREATE INDEX IDX_APPLICATION_ID ON CSM_ROLE(APPLICATION_ID);


/* Dumping data for table csm_role*/



INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (1,'Administrator','Role for Administrator',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (2,'Supervisor','Role for Supervisor',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (3,'Technician','Role for Technician',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (4,'PI','Role for Principal Investigator',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (5,'READ_ONLY','Read Only Role',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (6,'USE_ONLY','Use Only Role',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (7,'Scientist','Role for Public',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (8,'UPDATE_ONLY','Update Only Role',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (9,'EXECUTE_ONLY','Execute Only Role',1,0,CURRENT DATE);

/*Gautam : Added a READ_DENIED privilege.*/
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (10,'READ_DENIED','Read Denied Role',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (11,'Coordinator','Role for Coordinator',1,0,CURRENT DATE);
INSERT INTO CSM_ROLE (ROLE_ID,ROLE_NAME,ROLE_DESCRIPTION,APPLICATION_ID,ACTIVE_FLAG,UPDATE_DATE) VALUES (12, 'EXECUTE_QUERY', 'EXECUTE_QUERY', 1, 0,CURRENT DATE);

/* Table Objects for table csm_role_privilege*/



DROP TABLE  CSM_ROLE_PRIVILEGE;

CREATE TABLE CSM_ROLE_PRIVILEGE (
  ROLE_PRIVILEGE_ID DECIMAL(31) NOT NULL ,
  ROLE_ID DECIMAL(31) NOT NULL default 0,
  PRIVILEGE_ID DECIMAL(31) NOT NULL default 0,
  UPDATE_DATE date NOT NULL default CURRENT DATE,
  PRIMARY KEY  (ROLE_PRIVILEGE_ID),
  CONSTRAINT UQ_ROLE_PRIVILEGE_ROLE_ID UNIQUE (PRIVILEGE_ID,ROLE_ID)
) ;
CREATE INDEX IDX_PRIVILEGE_ID ON CSM_ROLE_PRIVILEGE(PRIVILEGE_ID);
CREATE INDEX IDX_ROLE_ID ON CSM_ROLE_PRIVILEGE(ROLE_ID);


/* Dumping data for table csm_role_privilege*/



INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (1,1,1,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (2,1,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (3,1,5,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (4,1,7,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (5,1,8,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (6,1,9,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (7,1,10,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (8,2,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (9,2,7,CURRENT DATE);
/* Aarti: Bug#1854 - To assign or revoke use privilege on storage containers and sites should NOT only apply to technician group users but also to supervisors.*/
/*INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (10,2,8,CURRENT DATE);*/
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (11,3,1,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (12,3,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (13,3,5,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (14,3,7,CURRENT DATE);
/*Virender: Bug#4290- If technician log in then by default no storage  position is allowed*/
/*INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (15,3,8,CURRENT DATE);*/
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (16,4,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (17,4,9,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (18,5,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (19,6,8,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (20,8,5,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (21,9,7,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (22,6,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (23,8,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (24,1,11,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (25,2,11,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (26,4,11,CURRENT DATE);

/*Gautam : Added the relationship between READ_DENIED privilege and role.*/

INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (27,10,12,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (28,11,3,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (29,11,11,CURRENT DATE);
INSERT INTO CSM_ROLE_PRIVILEGE (ROLE_PRIVILEGE_ID,ROLE_ID,PRIVILEGE_ID,UPDATE_DATE) VALUES (30,12,13,CURRENT DATE);


/* Table Objects for table csm_user*/



DROP TABLE  CSM_USER;

CREATE TABLE CSM_USER (
  USER_ID DECIMAL(31) NOT NULL ,
  LOGIN_NAME varchar(100) NOT NULL default '',
  FIRST_NAME varchar(100) NOT NULL default '',
  LAST_NAME varchar(100) NOT NULL default '',
  ORGANIZATION varchar(100) default NULL,
  DEPARTMENT varchar(100) default NULL,
  TITLE varchar(100) default NULL,
  PHONE_NUMBER varchar(15) default NULL,
  PASSWORD varchar(100) default NULL,
  EMAIL_ID varchar(100) default NULL,
  START_DATE date default NULL,
  END_DATE date default NULL,
  UPDATE_DATE date NOT NULL default CURRENT DATE,
  PRIMARY KEY  (USER_ID),
  CONSTRAINT UQ_LOGIN_NAME UNIQUE (LOGIN_NAME)
) ;


/* Dumping data for table csm_user*/



INSERT INTO CSM_USER (USER_ID,LOGIN_NAME,FIRST_NAME,LAST_NAME,ORGANIZATION,DEPARTMENT,TITLE,PHONE_NUMBER,PASSWORD,EMAIL_ID,START_DATE,END_DATE,UPDATE_DATE) VALUES (1,'admin@admin.com','Admin','Admin',NULL,NULL,NULL,NULL,'6c416f576765696c6e63316f326d3365','admin@admin.com','2005-08-30',NULL,'2005-08-30');


/* Table Objects for table csm_user_group*/



DROP TABLE  CSM_USER_GROUP;

CREATE TABLE CSM_USER_GROUP (
  USER_GROUP_ID DECIMAL(31) NOT NULL ,
  USER_ID DECIMAL(31) NOT NULL default 0,
  GROUP_ID DECIMAL(31) NOT NULL default 0,
  PRIMARY KEY (USER_GROUP_ID)
) ;
CREATE INDEX IDX_USER_ID ON CSM_USER_GROUP(USER_ID);
CREATE INDEX IDX_GROUP_ID ON CSM_USER_GROUP(GROUP_ID);


/* Dumping data for table csm_user_group*/



INSERT INTO CSM_USER_GROUP (USER_GROUP_ID,USER_ID,GROUP_ID) VALUES (1,1,1);


/* Table Objects for table csm_user_group_role_pg*/



DROP TABLE  CSM_USER_GROUP_ROLE_PG;

CREATE TABLE CSM_USER_GROUP_ROLE_PG (
  USER_GROUP_ROLE_PG_ID DECIMAL(31) NOT NULL ,
  USER_ID DECIMAL(31) default NULL,
  GROUP_ID DECIMAL(31) default NULL,
  ROLE_ID DECIMAL(31) NOT NULL default 0,
  PROTECTION_GROUP_ID DECIMAL(31) NOT NULL default 0,
  UPDATE_DATE date NOT NULL default CURRENT DATE,
  PRIMARY KEY  (USER_GROUP_ROLE_PG_ID)
) ;
CREATE INDEX IDX_GROUP_ID ON CSM_USER_GROUP_ROLE_PG(GROUP_ID);
CREATE INDEX IDX_ROLE_ID ON CSM_USER_GROUP_ROLE_PG(ROLE_ID);
CREATE INDEX IDX_PROTECTION_GROUP_ID ON CSM_USER_GROUP_ROLE_PG(PROTECTION_GROUP_ID);
CREATE INDEX IDX_USER_ID ON CSM_USER_GROUP_ROLE_PG(USER_ID);


/* Dumping data for table csm_user_group_role_pg*/


/* giving read right to public users to view admin data as well */

INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (3,NULL,4,5,1,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (4,NULL,1,1,1,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (5,NULL,1,1,2,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (6,NULL,1,1,3,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (7,NULL,1,1,4,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (8,NULL,1,1,5,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (9,NULL,1,1,6,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (10,NULL,1,1,7,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (11,NULL,1,1,8,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (12,NULL,1,1,9,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (13,NULL,1,1,10,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (14,NULL,1,1,11,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (15,NULL,1,1,12,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (16,NULL,1,1,13,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (17,NULL,1,1,14,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (18,NULL,1,1,15,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (19,NULL,1,1,16,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (20,NULL,1,1,17,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (21,NULL,1,1,18,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (22,NULL,1,1,19,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (23,NULL,1,1,20,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (24,NULL,1,1,21,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (25,NULL,1,1,22,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (26,NULL,1,1,23,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (27,NULL,2,1,2,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (28,NULL,2,1,3,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (29,NULL,2,1,13,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (30,NULL,2,1,14,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (31,NULL,2,1,15,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (32,NULL,2,1,16,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (33,NULL,2,1,22,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (34,NULL,2,1,23,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (35,NULL,2,2,1,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (36,NULL,2,2,7,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (37,NULL,2,2,8,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (38,NULL,2,2,11,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (39,NULL,2,2,12,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (40,NULL,2,2,18,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (41,NULL,2,2,19,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (42,NULL,2,2,5,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (43,NULL,2,2,6,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (44,NULL,2,2,9,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (45,NULL,2,2,10,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (46,NULL,2,2,21,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (47,NULL,3,3,3,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (48,NULL,3,3,15,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (49,NULL,3,3,16,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (50,NULL,3,3,19,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (51,NULL,3,5,1,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (52,NULL,3,5,2,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (53,NULL,3,5,8,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (54,NULL,3,5,12,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (55,NULL,3,5,14,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (56,NULL,3,5,21,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (57,NULL,3,5,22,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (58,NULL,3,6,5,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (59,NULL,3,6,9,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (60,NULL,3,6,10,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (61,NULL,4,5,2,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (62,NULL,4,5,3,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (63,NULL,4,5,5,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (64,NULL,4,5,6,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (65,NULL,4,5,8,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (66,NULL,4,5,10,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (67,NULL,4,5,14,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (68,NULL,4,5,16,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (69,NULL,4,5,20,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (70,NULL,1,1,24,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (71,NULL,2,2,24,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (72,NULL,3,3,24,CURRENT DATE);
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (73,NULL,4,9,24,CURRENT DATE);
/* Gautam : Added for allowing supervisor to see identified data.*/
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (74,NULL,2,2,20,CURRENT DATE);
/*  Aarti Assigning technician role to technicians on public data group */
INSERT INTO CSM_USER_GROUP_ROLE_PG (USER_GROUP_ROLE_PG_ID,USER_ID,GROUP_ID,ROLE_ID,PROTECTION_GROUP_ID,UPDATE_DATE) VALUES (75,NULL,3,3,20,CURRENT DATE);


/* Table Objects for table csm_user_pe*/



DROP TABLE  CSM_USER_PE;

CREATE TABLE CSM_USER_PE (
  USER_PROTECTION_ELEMENT_ID DECIMAL(31) NOT NULL ,
  PROTECTION_ELEMENT_ID DECIMAL(31) NOT NULL default 0,
  USER_ID DECIMAL(31) NOT NULL default 0,
  UPDATE_DATE date NOT NULL default CURRENT DATE,
  PRIMARY KEY  (USER_PROTECTION_ELEMENT_ID),
  CONSTRAINT UQ_USER_PROTECTION_ELEMENT_PROTECTION_ELEMENT_ID UNIQUE (USER_ID,PROTECTION_ELEMENT_ID)
) ;
CREATE INDEX IDX_USER_ID ON CSM_USER_PE(USER_ID);
CREATE INDEX IDX_PROTECTION_ELEMENT_ID ON CSM_USER_PE(PROTECTION_ELEMENT_ID);

/* Dumping data for table csm_user_pe*/





/*  CONSTRAINTs for table csm_group*/



ALTER TABLE CSM_GROUP
  ADD CONSTRAINT (APPLICATION_ID) REFERENCES `CSM_APPLICATION` (APPLICATION_ID) ON DELETE CASCADE;



/*  CONSTRAINTs for table csm_pg_pe*/



ALTER TABLE CSM_PG_PE
  ADD CONSTRAINT (PROTECTION_ELEMENT_ID) REFERENCES CSM_PROTECTION_ELEMENT (PROTECTION_ELEMENT_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (PROTECTION_GROUP_ID) REFERENCES CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID) ON DELETE CASCADE;



/*  CONSTRAINTs for table csm_protection_element*/



ALTER TABLE CSM_PROTECTION_ELEMENT
  ADD CONSTRAINT (APPLICATION_ID) REFERENCES `CSM_APPLICATION` (APPLICATION_ID) ON DELETE CASCADE;



/*  CONSTRAINTs for table csm_protection_group*/



ALTER TABLE CSM_PROTECTION_GROUP
  ADD CONSTRAINT (APPLICATION_ID) REFERENCES `CSM_APPLICATION` (APPLICATION_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (PARENT_PROTECTION_GROUP_ID) REFERENCES CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID);



/*  CONSTRAINTs for table csm_role*/



ALTER TABLE CSM_ROLE
  ADD CONSTRAINT (APPLICATION_ID) REFERENCES `CSM_APPLICATION` (APPLICATION_ID) ON DELETE CASCADE;



/*  CONSTRAINTs for table csm_role_privilege */



ALTER TABLE CSM_ROLE_PRIVILEGE
  ADD CONSTRAINT (PRIVILEGE_ID) REFERENCES CSM_PRIVILEGE (PRIVILEGE_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (ROLE_ID) REFERENCES CSM_ROLE (ROLE_ID) ON DELETE CASCADE;



/*  CONSTRAINTs for table csm_user_group */



ALTER TABLE CSM_USER_GROUP
  ADD CONSTRAINT (GROUP_ID) REFERENCES CSM_GROUP (GROUP_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (USER_ID) REFERENCES CSM_USER (USER_ID) ON DELETE CASCADE;



/*  CONSTRAINTs for table csm_user_group_role_pg */



ALTER TABLE CSM_USER_GROUP_ROLE_PG
  ADD CONSTRAINT (GROUP_ID) REFERENCES CSM_GROUP (GROUP_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (PROTECTION_GROUP_ID) REFERENCES CSM_PROTECTION_GROUP (PROTECTION_GROUP_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (ROLE_ID) REFERENCES CSM_ROLE (ROLE_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (USER_ID) REFERENCES CSM_USER (USER_ID) ON DELETE CASCADE;



/*  CONSTRAINTs for table csm_user_pe */



ALTER TABLE CSM_USER_PE
  ADD CONSTRAINT (USER_ID) REFERENCES CSM_USER (USER_ID) ON DELETE CASCADE,
  ADD CONSTRAINT (PROTECTION_ELEMENT_ID) REFERENCES CSM_PROTECTION_ELEMENT (PROTECTION_ELEMENT_ID) ON DELETE CASCADE;




